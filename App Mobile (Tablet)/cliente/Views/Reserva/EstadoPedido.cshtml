@model EstadoPedidoViewModel

<head>
    <link rel="stylesheet" href="~/css/estado.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>

<div class="estado-pedido-container">
    <h2>Estado del Pedido</h2>
        <div class="propina-container">
        <label for="propina">Propina:</label>
        <input type="number" id="propina" name="propina" min="0" value="0" />
    </div>
    <div class="pedido-items">
        <h3>Ítems del Pedido</h3>
        <ul>
            @{
                decimal totalSinPropina = 0;
            }
            @foreach (var item in Model.Items)
            {
                    <li data-precio="@item.Precio">@item.Nombre - @item.Precio.ToString("C")</li>
                totalSinPropina += item.Precio;
            }
            @{
                decimal totalConPropina = totalSinPropina + (totalSinPropina * 0.19m);
            }
            <li>Total con IVA (19%): @totalConPropina.ToString("C")</li>
        </ul>
    </div>


<div class="estado-pedido">
    <h3>Estado del Pedido</h3>
    <p>Estado: @Model.Estado</p>
    <div class="progress-bar-container">
        <div class="progress-bar" style="width: @Model.GetProgressValue()%;"></div>
    </div>
    <i class="fas fa-utensils animated-icon"></i> 
</div>
<div id="smart-button-container">
  <div style="text-align: center;">
    <div id="paypal-button-container"></div>
  </div>
</div>

</div>
@section Scripts {
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                        <script src="https://www.paypal.com/sdk/js?client-id=Ab_ly1NCSP1f6-T_H1WXRt_PnxES91y11ZXphjT0CarXSG0ge2oIMy763bglX0bVHlfLexYtyKeP3u78&currency=USD" data-sdk-integration-source="button-factory"></script>

            <script src="~/js/estado.js" asp-append-version="true"></script>



}