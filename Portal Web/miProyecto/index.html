<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>RESTAURANT SIGLO XXI</title>
    <meta name="description" content="Restaurant">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSS -->
    <link rel="stylesheet" href="vendor/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="vendor/select2/select2.min.css">
    <link rel="stylesheet" href="vendor/owlcarousel/owl.carousel.min.css">
    <link rel="stylesheet" href="https://cdn.rawgit.com/noelboss/featherlight/1.7.13/release/featherlight.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/css/tempusdominus-bootstrap-4.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.1/css/brands.css">

    <!-- Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700|Josefin+Sans:300,400,700">
    <link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

    <!-- CSS -->
    <link rel="stylesheet" href="/style.min.css">
    <link rel="icon" href="img/logo.png" type="image/x-icon">
    <!-- Modernizr JS for IE8 support of HTML5 elements and media queries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
</head>

<!-- Navbar --> 	
</div>	<div id="canvas-overlay"></div>
	<div class="boxed-page">
		<nav id="navbar-header" class="navbar navbar-expand-lg">
    <div class="container">
        <a class="navbar-brand navbar-brand-center d-flex align-items-center p-0 only-mobile" href="/">
            <img src="img/logo.png" alt="">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="lnr lnr-menu"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-between" id="navbarSupportedContent">
            <ul class="navbar-nav d-flex justify-content-between">
                <li class="nav-item only-desktop">
                    <a class="nav-link" id="side-nav-open" href="#">
                        <span class="lnr lnr-menu"></span>
                    </a>
                </li>
                <div class="d-flex flex-lg-row flex-column">
                    <li class="nav-item active">
                        <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="sobrenosotros.html">Sobre Nosotros</a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Menú del Día
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                          <a class="dropdown-item" href="plato_especial.html">Especiales</a>
                        </div>
                    </li>
                </div>
            </ul>
            
            <a class="navbar-brand navbar-brand-center d-flex align-items-center only-desktop" href="#">
                <img src="img/logo.png" alt="">
            </a>
            <ul class="navbar-nav d-flex justify-content-between">
                <div class="d-flex flex-lg-row flex-column">
                    <li class="nav-item active">
                        <a class="nav-link" href="menu.html">Menú</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="local">Local</a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link" href="reserva.html">Reservas</a>
                    </li>
                </div>
                <li class="nav-item">
                    <a id="side-search-open" class="nav-link" href="#">
                        <span class="lnr lnr-magnifier"></span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>		
<!-- Navbar// --> 	
<!-- Home --> 
<div class="hero">
  <div class="container">
	<div class="row d-flex align-items-center">
		<div class="col-lg-6 hero-left">
		    <h1 class="display-4 mb-5">Restaurant <br>SIGLO XXI</h1>
		    <div class="mb-2">
		    	<a class="btn btn-primary btn-shadow btn-lg" href="#" role="button">Explorar Menú</a>
			    </a>
		    </div>
		   
		    <ul class="hero-info list-unstyled d-flex text-center mb-0">
		    	<li class="border-right">
		    		<span class="lnr lnr-rocket"></span>
		    		<h5>
		    			Atención Rapida
		    		</h5>
		    	</li>
		    	<li class="border-right">
		    		<span class="lnr lnr-leaf"></span>
		    		<h5>
		    			Comida Casera
		    		</h5>
		    	</li>
		    	<li class="">
		    		<span class="lnr lnr-bubble"></span>
		    		<h5>
		    			Contacto Inmediato 
		    		</h5>
		    	</li>
		    </ul>
	    </div>
	    <div class="col-lg-6 hero-right">
	    	<div class="owl-carousel owl-theme hero-carousel">
			    <div class="item">
			    	<img class="img-fluid" src="/public/img/cazuela.jpg" alt="">
			    </div>
			    <div class="item">
			    	<img class="img-fluid" src="img/porotos.jpg" alt="">
			    </div>
			    <div class="item">
			    	<img class="img-fluid" src="img/chorrillana.jpg" alt="">
			    </div>
			</div>
	    </div>
	</div>
  </div>
</div>	
<!-- Home// -->
<!-- About us -->
<section id="gtco-welcome" class="bg-white section-padding">
    <div class="container">
        <div class="section-content">
            <div class="row">
                <div class="col-sm-5 img-bg d-flex shadow align-items-center justify-content-center justify-content-md-end img-2" style="background-image: url(img/vino\ y\ carne.jpg);">
                    
                </div>

                    
<div id="resultado"></div>

                <div class="col-sm-7 py-5 pl-md-0 pl-4">
                    <div class="heading-section pl-lg-5 ml-md-5">
                        <span class="subheading">
                            Sobre Nosotros
                        </span>
                        <h2>
                            Bienvenido al Restaurant Siglo XXI
                        </h2>
                    </div>
                    <div class="pl-lg-5 ml-md-5">
                        <p>Bienvenidos al Restaurante Siglo XXI, un emblema culinario en esta región turística desde hace 50 años. Nuestra familia ha servido con orgullo recetas caseras tradicionales, creciendo y evolucionando junto a la comunidad.
                            Ante la llegada de nuevas tendencias gastronómicas, reconocemos la necesidad de innovar. Por ello, estamos incorporando tecnología para mejorar la eficiencia en el servicio, reducir tiempos de espera y ofrecer precios competitivos, sin perder la esencia de nuestra comida casera.
                            Invitamos a todos a redescubrir la tradición y disfrutar de la modernidad en el Restaurante Siglo XXI. ¡Les esperamos para compartir juntos este nuevo capítulo de nuestra historia culinaria!</p>
                        <h3 class="mt-5">Platos Especiales</h3>
                        <div class="row">
                            <div class="col-4">
                                <a href="#" class="thumb-menu">
                                    <img class="img-fluid img-cover" src="img/chorrillana.jpg" />
                                    <h6>Chorillana</h6>
                                </a>
                            </div>
                            <div class="col-4">
                                <a href="#" class="thumb-menu">
                                    <img class="img-fluid img-cover" src="img/Anticuchos.webp" />
                                    <h6>Anticuchos</h6>
                                </a>
                            </div>
                            <div class="col-4">
                                <a href="#" class="thumb-menu">
                                    <img class="img-fluid img-cover" src="img/Empanadas.webp"/>
                                    <h6>Empanadas</h6>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- About us// -->		
<!-- Sección Especialidades -->
<section id="gtco-special-dishes" class="bg-grey section-padding">
    <div class="container">
        <div class="section-content">
            <div class="heading-section text-center">
                <span class="subheading">
                    Especialidades
                </span>
                <h2>
                    Platos Preferidos
                </h2>
            </div>
            <div class="row mt-5">
                <div class="col-lg-5 col-md-6 align-self-center py-5">
                    <h2 class="special-number">01.</h2>
                    <div class="dishes-text">
                        <h3><span>Sopas</span><br> Ajiaco</h3>
                        <p class="pt-3">Nuestro Ajiaco Chileno es una sopa generosa que combina papas en variedades exquisitas, tierna carne de vacuno, y maíz fresco. La fusión de estos ingredientes clave en un caldo sabroso es la esencia de la cocina chilena. Una deliciosa experiencia que te invita a saborear tradición y autenticidad en cada cucharada.</p>
                        <h3 class="special-dishes-price">$5.500</h3>
                        <a href="#" class="btn-primary mt-3">Reservar Mesa</a>
                    </div>
                </div>
                <div class="col-lg-5 offset-lg-2 col-md-6 align-self-center mt-4 mt-md-0">
                    <img src="img/ajiaco.jpg" alt="" class="img-fluid shadow w-100">
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-lg-5 col-md-6 align-self-center order-2 order-md-1 mt-4 mt-md-0">
                    <img src="img/carne.jpg" alt="" class="img-fluid shadow w-100">
                </div>
                <div class="col-lg-5 offset-lg-2 col-md-6 align-self-center order-1 order-md-2 py-5">
                    <h2 class="special-number">02.</h2>
                    <div class="dishes-text">
                        <h3><span>Carnes</span><br>Filete</h3>
                        <p class="pt-3">Nuestro Filete a la Parrilla al Estilo Chileno es una pieza de carne de vacuno perfectamente seleccionada y asada a la parrilla para lograr una textura tierna y un sabor inigualable. Cada bocado es una experiencia de sabores intensos, resaltados por la técnica única de la parrilla, que le brinda un característico aroma ahumado. Un deleite para los amantes de la carne que buscan autenticidad y calidad en cada porción. ¡Satisfacción asegurada en cada corte!</p>
                        <h3 class="special-dishes-price">$19.900</h3>
                        <a href="#" class="btn-primary mt-3">Reservar Mesa <span><i class="fa fa-long-arrow-right"></i></span></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Sección Especialidades// -->
<!-- Menú -->
<section id="gtco-menu" class="section-padding">
    <div class="container">
        <div class="section-content">
            <div class="row mb-5">
                <div class="col-md-12">
                    <div class="heading-section text-center">
                        <span class="subheading">
                            Tradición de la Casa
                        </span>
                        <h2>
                            Menú
                        </h2>
                    </div>  
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 menu-wrap">
                    <div class="heading-menu">
                        <h3 class="text-center mb-5">Desayuno</h3>
                    </div>
                    <div class="menus d-flex align-items-center">
                        <div class="menu-img rounded-circle">
                            <img class="img-fluid" src="img/panconpalta.jpg" alt="">
                        </div>
                        <div class="text-wrap">
                            <div class="row align-items-start">
                                <div class="col-8">
                                    <h4>Pan con Palta</h4>
                                </div>
                                <div class="col-4">
                                    <h4 class="text-muted menu-price">$1500</h4>
                                </div>
                            </div>
                            <p>Pan Casero, Palta Hass Chilena </p>
                        </div>
                    </div>
                    <div class="menus d-flex align-items-center">
                        <div class="menu-img rounded-circle">
                            <img class="img-fluid" src="img/breakfast-1.jpg" alt="">
                        </div>
                        <div class="text-wrap">
                            <div class="row align-items-start">
                                <div class="col-8">
                                    <h4>Tostadas con Huevo</h4>
                                </div>
                                <div class="col-4">
                                    <h4 class="text-muted menu-price">$1200</h4>
                                </div>
                            </div>
                            <p>Pan Blanco, Huevo, Pimienta </p>
                        </div>
                    </div>
                    <div class="menus d-flex align-items-center">
                        <div class="menu-img rounded-circle">
                            <img class="img-fluid" src="img/sandwichconjamon.jpeg" alt="">
                        </div>
                        <div class="text-wrap">
                            <div class="row align-items-start">
                                <div class="col-8">
                                    <h4>Sandwich Completo</h4>
                                </div>
                                <div class="col-4">
                                    <h4 class="text-muted menu-price">$2200</h4>
                                </div>
                            </div>
                            <p>Sandwich con Jamon, Palta o Mantequilla</p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 menu-wrap">
                    <div class="heading-menu">
                        <h3 class="text-center mb-5">Almuerzos</h3>
                    </div>
                    <div class="menus d-flex align-items-center">
                        <div class="menu-img rounded-circle">
                            <img class="img-fluid" src="img/machasalaparmesana.jpg" alt="">
                        </div>
                        <div class="text-wrap">
                            <div class="row align-items-start">
                                <div class="col-8">
                                    <h4>Machas a la Parmesana</h4>
                                </div>
                                <div class="col-4">
                                    <h4 class="text-muted menu-price">$4500</h4>
                                </div>
                            </div>
                            <p>Machas al horno, gratinadas con queso, mantequilla y un toque de vino blanco</p>
                        </div>
                    </div>
                    <div class="menus d-flex align-items-center">
                        <div class="menu-img rounded-circle">
                            <img class="img-fluid" src="img/pasteldechoclo.jpg" alt="">
                        </div>
                        <div class="text-wrap">
                            <div class="row align-items-start">
                                <div class="col-8">
                                    <h4>Pastel de Choclo</h4>
                                </div>
                                <div class="col-4">
                                    <h4 class="text-muted menu-price">$4500</h4>
                                </div>
                            </div>
                            <p>Pino de carne, pollo desmenuzado, huevo y aceituna; cubierto con pasta de choclo molido con un toque de albahaca</p>
                        </div>
                    </div>
                    <div class="menus d-flex align-items-center">
                        <div class="menu-img rounded-circle">
                            <img class="img-fluid" src="img/pasteldejaiba.jpg" alt="">
                        </div>
                        <div class="text-wrap">
                            <div class="row align-items-start">
                                <div class="col-8">
                                    <h4>Pastel de Jaiba</h4>
                                </div>
                                <div class="col-4">
                                    <h4 class="text-muted menu-price">$7500</h4>
                                </div>
                            </div>
                            <p>Pinzas de jaiba desmenuzada con sorbito y coronado en queso fundido.</p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 menu-wrap">
                    <div class="heading-menu">
                        <h3 class="text-center mb-5">Postres</h3>
                    </div>
                    <div class="menus d-flex align-items-center">
                        <div class="menu-img rounded-circle">
                            <img class="img-fluid" src="img/volcan.jpg" alt="">
                        </div>
                        <div class="text-wrap">
                            <div class="row align-items-start">
                                <div class="col-8">
                                    <h4>Volcán de Chocolate</h4>
                                </div>
                                <div class="col-4">
                                    <h4 class="text-muted menu-price">$2500</h4>
                                </div>
                            </div>
                            <p>Bizcocho de chocolate con el interior fundido</p>
                        </div>
                    </div>
                    <div class="menus d-flex align-items-center">
                        <div class="menu-img rounded-circle">
                            <img class="img-fluid" src="img/alfajores.webp" alt="">
                        </div>
                        <div class="text-wrap">
                            <div class="row align-items-start">
                                <div class="col-8">
                                    <h4>Alfajor Chileno</h4>
                                </div>
                                <div class="col-4">
                                    <h4 class="text-muted menu-price">$1500</h4>
                                </div>
                            </div>
                            <p>Harina, Huevo, Leche, Manjar, Azucar, Coco rallado</p>
                        </div>
                    </div>
                    <div class="menus d-flex align-items-center">
                        <div class="menu-img rounded-circle">
                            <img class="img-fluid" src="img/brazodereina.jpg" alt="">
                        </div>
                        <div class="text-wrap">
                            <div class="row align-items-start">
                                <div class="col-8">
                                    <h4>Brazo de Reina</h4>
                                </div>
                                <div class="col-4">
                                    <h4 class="text-muted menu-price">$2000</h4>
                                </div>
                            </div>
                            <p>Harina, Azúcar, Huevos, Mantequilla y Azúcar flor.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Menú// -->	
<!-- Testimonios -->
<section id="gtco-testimonial" class="overlay bg-fixed section-padding" style="background-image: url(img/productos.jpg);">
    <div class="container">
        <div class="section-content">
            <div class="heading-section text-center">
                <span class="subheading">
                    Testimonios
                </span>
                <h2>
                    Clientes Satisfechos
                </h2>
            </div>
            <div class="row">
                <!-- Testimonial -->
                <div class="testi-content testi-carousel owl-carousel">
                    <div class="testi-item">
                        <i class="testi-icon fa fa-3x fa-quote-left"></i>
                        <p class="testi-text">"Una experiencia gastronómica auténtica y excepcional. Desde el primer momento en que entré en este restaurante, me cautivó la cálida atmósfera y el aroma irresistible que flotaba en el aire. Probé el Filete a la Parrilla al Estilo Chileno y quedé impresionado. La carne estaba tierna, jugosa y llena de sabor, y la técnica de parrilla realmente le otorgó ese toque ahumado que tanto adoro. Sin duda, este lugar ha elevado mis expectativas en cuanto a la cocina a la parrilla. Definitivamente regresaré para explorar más deliciosas opciones en su menú".</p>
                        <p class="testi-author">Joaquin Aravena</p>
                        <p class="testi-desc">CEO de Apiux Technology</p>
                    </div>
                    <div class="testi-item">
                        <i class="testi-icon fa fa-3x fa-quote-left"></i>
                        <p class="testi-text">"Una experiencia culinaria inolvidable. Celebré mi aniversario en este encantador restaurante y fue todo un acierto. Optamos por probar el Ajiaco Chileno a la Parrilla y cada bocado fue una explosión de sabores asados perfectamente combinados. La carne estaba en su punto exacto, suculenta y deliciosa. El ambiente acogedor y el servicio excepcional hicieron que nuestra noche fuera aún más especial. Definitivamente, este restaurante se ha ganado un lugar especial en nuestros corazones y volveremos para disfrutar más de su magnífica propuesta gastronómica."</p>
                        <p class="testi-author">Jorge Perez</p>
                        <p class="testi-desc">Estudiante</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Testimonios// -->
<!-- Ubicación -->
		<section id="gtco-team" class="bg-white section-padding">
    <div class="container">
        <div class="section-content">
            <div class="heading-section text-center">
                <span class="subheading">
                    Ubicación
                </span>
                <h2>
                    Conoce nuestro local
                </h2>
            </div>
            <section id="google-maps-location" class="section-padding">
                <div class="container">
                    <div class="row">
                        <!-- Google Maps -->
                        <div class="col-md-6">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3329.6199002665703!2d-70.61684718794473!3d-33.433152696516935!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9662cf7b9566d44f%3A0x5c1618bbd02ec418!2sAntonio%20Varas%20666%2C%20Providencia%2C%20Regi%C3%B3n%20Metropolitana!5e0!3m2!1ses!2scl!4v1696363760031!5m2!1ses!2scl" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                        <!-- Texto al lado del mapa -->
                        <div class="col-md-6">
                            <span class="subheading">
                                Dirección
                            </span>
                            <p>Antonio Varas 666, Providencia, Región Metropolitana</p>
                            <span class="subheading">
                                Horarios de Atención 
                            </span>
                            <p>Lunes a Viernes: 9:00 AM - 22:00 PM</p>
                            <p>Sábado: 10:00 AM - 20:00 PM</p>
                            <span class="subheading">
                                Contacto
                            </span>
                            <p>Teléfono: +56 2 1234 5678</p>
                            <p>Email: contacto@restaurantsigloxxi.cl</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</section>
<!-- Ubicación// -->
<!-- Reservas -->
<section id="gtco-reservation" class="bg-fixed bg-white section-padding overlay" style="background-image: url(img/reservaimg.jpg);">
    <div class="container">
        <div class="row">
            <div class="col-lg-5">
                <div class="section-content bg-white p-5 shadow">
                    <div class="heading-section text-center">
                        <span class="subheading">
                            Reserva Ahora
                        </span>
                        <h2>
                            Realiza tu reserva ahora
                        </h2>
                    </div>
                    <form method="post" name="contact-us" action="/realizar-reserva">
                        <div class="row">
                            <div class="col-md-12 form-group">
                                <input type="text" class="form-control" id="name" name="name" placeholder="Nombre">
                            </div>
                            <div class="col-md-12 form-group">
                                <input type="text" class="form-control" id="lastname" name="lastName" placeholder="Apellido" required>
                            </div>
                            <div class="col-md-12 form-group">
                                <input type="text" class="form-control" id="email" name="email" placeholder="Email">
                            </div>
                            <div class="col-md-12 form-group">
                                <input type="number" class="form-control" id="phoneNumber" name="phoneNumber" placeholder="Telefono">
                            </div>
                            <div class="col-md-6 form-group">
                                <input type="date" class="form-control" id="datepicker" name="date" placeholder="Fecha" required>
                            </div>
                            <div class="col-md-6 form-group">
                            <select class="form-control" id="tableNumber" name="tableNumber" required>
                                <option value="">Mesa</option>
                                <!-- Las opciones de las mesas se llenarán dinámicamente con JavaScript o desde el servidor -->
                            </select>
                             </div>
                            <div class="col-md-6 form-group">
                                <select class="form-control" id="timepicker" name="time" required>
                                    <!-- Las opciones de hora se llenarán dinámicamente -->
                                </select>
                            </div>
                            <div class="col-md-6 form-group">
                                <select class="form-control" id="selectCapacity" name="capacity">
                                    <option value="">Nro Personas</option>
                                    <!-- Las opciones se llenarán dinámicamente con JavaScript -->
                                </select>
                            </div>
                            <div class="col-md-12 form-group">
                                <textarea class="form-control" id="message" name="message" rows="6" placeholder="Tu Mensaje ..."></textarea>
                            </div>
                            <div class="col-md-12 text-center">
                                <button class="btn btn-primary btn-shadow btn-lg" type="submit" id="submit-button" name="submit" disabled>Reservar</button>
                            </div>                            
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
    </div>
</section>
<!--Fin Reservas -->
<!-- JScripts Reservas  -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
    obtenerCapacidadesMesas(); // Llama a esta función al cargar la página

    var datepicker = document.getElementById('datepicker');
    datepicker.addEventListener('change', function() {
        verificarDisponibilidad(this.value);
    });

    var selectCapacity = document.getElementById('selectCapacity');
    selectCapacity.addEventListener('change', function() {
        verificarCapacidadMesas(this.value);
    });

    // Verificar Disponibilidad Horas Disponibles
    function verificarDisponibilidad(fecha) {
    fetch(`/verificar-disponibilidad?fecha=${fecha}`)
        .then(response => response.json())
        .then(horasDisponibles => {
            console.log('Horas disponibles:', horasDisponibles); // mostrar un array de horas.
            actualizarSelectHoras(horasDisponibles);
        })
        .catch(error => {
            console.error('Error al verificar la disponibilidad:', error);
        });
}
    // Capacidad Mesa
    function verificarCapacidadMesas(cantidadPersonas) {
    fetch(`/verificar-mesas-disponibles?cantidadPersonas=${cantidadPersonas}`)
        .then(response => response.json())
        .then(mesas => {
            console.log('Mesas disponibles:', mesas);
            // actualizarSelectMesas(mesas);
        })
        .catch(error => {
            console.error('Error al verificar la capacidad de las mesas:', error);
        });
}


    // Actualizar Horas Disponibles Timepicker
    function actualizarSelectHoras(horasDisponibles) {
        var timepicker = document.getElementById('timepicker');
        timepicker.innerHTML = ''; // Limpia las opciones anteriores

        if (horasDisponibles.length === 0) {
            var option = document.createElement('option');
            option.value = '';
            option.textContent = 'No hay horas disponibles';
            timepicker.appendChild(option);
        } else {
            horasDisponibles.forEach(function(hora) {
                var option = document.createElement('option');
                option.value = hora;
                option.textContent = hora;
                timepicker.appendChild(option);
            });
        }
        var submitButton = document.getElementById('submit-button');
        submitButton.disabled = horasDisponibles.length === 0;
    }
        });

    // Función para obtener las capacidades de las mesas de la base de datos y actualizar el select
    function obtenerCapacidadesMesas() {
        fetch('/obtener-capacidades-mesas')
            .then(response => response.json())
            .then(capacidades => {
                const selectCapacity = document.getElementById('selectCapacity');
                selectCapacity.innerHTML = '<option value="">Capacidad personas</option>'; // Resetear y añadir placeholder
                capacidades.forEach(capacidad => {
                    const option = document.createElement('option');
                    option.value = capacidad;
                    option.textContent = capacidad;
                    selectCapacity.appendChild(option);
                });
            })
            .catch(error => {
                console.error('Error al obtener las capacidades de las mesas:', error);
            });
}

// Obtener Mesas Disponibles para reservas - REALIZAR RESERVA - CANCELAR RESERVA
document.addEventListener('DOMContentLoaded', function() {
    const selectTable = document.getElementById('tableNumber');
    // REALIZAR RESERVA CON ALERTA
    var form = document.querySelector('form[name="contact-us"]');
    form.addEventListener('submit', function(event) {
        event.preventDefault(); // Detiene el envío normal del formulario

        var formData = new FormData(form);
        var objectData = {};
        formData.forEach(function(value, key) {
            objectData[key] = value;
        });

        fetch('/realizar-reserva', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(objectData),
        })
        .then(response => response.json())
        .then(data => {
            // alerta con el mensaje y el código de reserva
            alert(data.message + " Código de reserva: " + data.codigo);
            form.reset(); // Esto limpia el formulario después de la reserva
        })
        .catch((error) => {
            // alerta de error
            alert("Error al realizar la reserva: " + error.message);
        });
    });
    // FIN REALIZAR RESERVA CON ALERTA
    // CANCELAR RESERVA CON ALERTA
    var cancelForm = document.querySelector('form[name="cancel-reservation"]');
    cancelForm.addEventListener('submit', function(event) {
        event.preventDefault(); // Previene el comportamiento por defecto del formulario

        var formData = new FormData(cancelForm);
        var objectData = {};
        formData.forEach(function(value, key) {
            objectData[key] = value;
        });

        fetch('/cancelar-reserva', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(objectData),
        })
        .then(response => response.json())
        .then(data => {
            alert(data.message); // alerta con el mensaje de la respuesta
            cancelForm.reset();
        })
        .catch((error) => {
            alert("Error al cancelar la reserva: " + error.message);
        });
    });
    // FIN CANCELAR RESERVA CON ALERTA
    // Esta función obtiene las mesas disponibles y actualiza el select.
    function obtenerMesasDisponibles() {
        fetch('/obtener-mesas-disponibles')
            .then(response => response.json())
            .then(mesasDisponibles => {
                mesasDisponibles.forEach(numMesa => {
                    const option = document.createElement('option');
                    option.value = numMesa;
                    option.textContent = `Mesa ${numMesa}`;
                    selectTable.appendChild(option);
                });
            })
            .catch(error => {
                console.error('Error al obtener mesas:', error);
            });
    }

    // Llamar a la función al cargar la página.
    obtenerMesasDisponibles();
});


</script> 
<!-- Fin JScripts Reservas  -->
<!-- Cancelar Reserva -->
<section id="gtco-cancel-reservation" class="bg-fixed bg-white section-padding overlay" style="background-image: url(img/reservaimg.jpg);">
    <div class="container">
        <div class="row">
            <div class="col-lg-5">
                <div class="section-content bg-white p-5 shadow">
                    <form method="post" name="cancel-reservation" action="/cancelar-reserva">
                        <div class="heading-section text-center">
                            <span class="subheading">
                                Cancelar Reserva
                            </span>
                            <h2>
                                Cancela tu reserva ahora
                            </h2>
                        </div>
                        <div class="form-group">
                            <label for="codigoReserva">Código de Reserva</label>
                            <input type="text" class="form-control" id="codigoReserva" name="codigoReserva" placeholder="Ingrese el Código de Reserva" required>
                        </div>                        
                        <div class="text-center">
                            <button class="btn btn-primary btn-shadow btn-lg" type="submit" name="submit">Cancelar Reserva</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Fin Cancelar Reserva -->

<!-- Fin Reservas// -->

         	<div class="col-md-12 d-flex align-items-center">
         		<p class="mx-auto text-center mb-0">Copyright 2023. All Right Reserved Group 4.</p>
         	</div>
           
	<!-- External JS -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
	<script src="vendor/bootstrap/popper.min.js"></script>
	<script src="vendor/bootstrap/bootstrap.min.js"></script>
	<script src="vendor/select2/select2.min.js "></script>
	<script src="vendor/owlcarousel/owl.carousel.min.js"></script>
	<script src="https://cdn.rawgit.com/noelboss/featherlight/1.7.13/release/featherlight.min.js"></script>
	<script src="vendor/stellar/jquery.stellar.js" type="text/javascript" charset="utf-8"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="//code.jquery.com/jquery-1.12.4.js"></script>
    <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

	<!-- Main JS -->
	<script src="/app.min.js "></script>
</body>
</html>
